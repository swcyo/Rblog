blogdown:::serve_site()
blogdown:::new_post_addin()
tinytex::is_tinytex()
library(tinytex)
is_tinytex()
blogdown:::serve_site()
blogdown::hugo_available()
blogdown::hugo_available()
blogdown:::serve_site()
blogdown::stop_server()
blogdown:::serve_site()
blogdown::stop_server()
blogdown:::serve_site()
blogdown::stop_server()
blogdown:::serve_site()
blogdown::stop_server()
blogdown:::serve_site()
blogdown:::serve_site()
tinytex::is_tinytex()
tinytex::install_tinytex()
tinytex:::install_prebuilt('/Users/mac/Downloads/TinyTeX.tgz')
tinytex:::install_prebuilt(pkg='/Users/mac/Downloads/TinyTeX.tgz')
install.packages("tlmgr")
tinytex::tlmgr_repo('http://mirrors.tuna.tsinghua.edu.cn/CTAN/')
tinytex:::install_prebuilt('~/Downloads/TinyTeX.tgz')
tinytex:::install_prebuilt('/Users/mac/Downloads/TinyTeX.tgz')
tinytex:::install_prebuilt()
tinytex::install_tinytex()
tinytex:::install_prebuilt('/Users/mac/Downloads/TinyTeX.tgz')
tinytex::is_tinytex()
blogdown:::serve_site()
install.packages("magick")
x<-image_read('/Users/mac/Documents/pic.jpg')
library(magick)
x<-image_read('/Users/mac/Documents/pic.jpg')
ggplotify::as.ggplot(x)
y<-image_fill(x,'white',fuzz = 20)
ggplotify::as.ggplot(y)
ggplotify::as.ggplot(image_fill(x,'steelblue',fuzz = 20))
ggplotify::as.ggplot(image_fill(x,'blue',fuzz = 20))
ggplotify::as.ggplot(image_fill(x,'steelblue',fuzz = 50))
ggplotify::as.ggplot(image_fill(x,'steelblue',fuzz = 10))
ggplotify::as.ggplot(image_fill(x,'steelblue',fuzz = 15))
ggplotify::as.ggplot(image_fill(x,'steelblue',fuzz = 30))
ggplotify::as.ggplot(image_fill(x,'steelblue',fuzz = 40))
ggplotify::as.ggplot(image_fill(x,'steelblue',fuzz = 35))
ggplotify::as.ggplot(image_fill(x,'steelblue',fuzz = 30))
ggplotify::as.ggplot(image_fill(x,'green',fuzz = 20))
ggplotify::as.ggplot(image_fill(x,'gray',fuzz = 20))
ggplotify::as.ggplot(image_fill(x,'brown',fuzz = 30))
ggplotify::as.ggplot(image_fill(x,'purple',fuzz = 20))
ggplotify::as.ggplot(image_fill(x,'sblack',fuzz = 30))
ggplotify::as.ggplot(image_fill(x,'black',fuzz = 20))
install.packages("ggVennDiagram")
install.packages("UpSetR")
remotes::install_git('https://gitee.com/swcyo/gglayer/'))
install.packages("remotes")
remotes::install_git('https://gitee.com/swcyo/gglayer/'))
remotes::install_git('https://gitee.com/swcyo/gglayer/')
remotes::install_git('https://gitee.com/swcyo/yyplot/')
install.packages("ggimage")
remotes::install_git('https://gitee.com/swcyo/yyplot/')
remotes::install_git("https://hub.fastgit.org/GuangchuangYu/yyplot")
remotes::install_local('/Users/mac/Downloads/yyplot-master.zip')
install.packages("/Users/mac/Downloads/yyplot-master",repos=NULL,type="source")
install.packages("dlstats")
install.packages("meme")
install.packages("qrcode")
install.packages("RISmed")
install.packages("rsvg")
install.packages("scholar")
install.packages("/Users/mac/Downloads/yyplot-master",repos=NULL,type="source")
install.packages("rvcheck")
install.packages("/Users/mac/Downloads/yyplot-master",repos=NULL,type="source")
library(rvcheck)
remotes::install_git('https://hub.fastgit.org/GuangchuangYu/yyplot/')
install.packages("/Users/mac/Downloads/yyplot-master",repos=NULL,type="source")
devtools::install_github("GuangchuangYu/rvcheck")
check_bioc(pkg = "BiocManager")
check_github(pkg)
check_github(pkg="yyplot")
check_github('guangchuangyu/ggtree')
remotes::install_version("rvcheck",version = "0.1.8")
install.packages("/Users/mac/Downloads/yyplot-master",repos=NULL,type="source")
rm(list = ls())
list <- read.csv("~/Desktop/list.csv")
View(list)
head(list)
## 单独提出各个list
listA<-list$A
listB<-list$B
listC<-list$C
listD<-list$D
listE<-list$E
listF<-list$F
## 去除各自列表的重复值
listA<-listA[!duplicated(listA)]
listB<-listB[!duplicated(listB)]
listC<-listC[!duplicated(listC)]
listD<-listD[!duplicated(listD)]
listE<-listE[!duplicated(listE)]
listF<-listF[!duplicated(listF)]
## 去除各自列表的NA值
listA<-na.omit(listA)
listB<-na.omit(listB)
listC<-na.omit(listC)
listD<-na.omit(listD)
listE<-na.omit(listE)
listF<-na.omit(listF)
## 合并list
list<-list(A=listA,B=listB,C=listC,D=listD,E=listE,F=listF)
View(list)
library(ggVennDiagram)
ggVennDiagram(list)
rm(list = ls())
list <- read.csv("~/Desktop/list.csv")
library(ggVennDiagram)
ggVennDiagram(list)
ggVennDiagram(
list,
label = "count",
edge_lty = "dashed",
edge_size = 0.5
)
upset(fromList(list),nsets = 6,order.by = "freq",queries = list(list(query = intersects, active = T)))
library(UpSetR)
upset(fromList(list),nsets = 6,order.by = "freq",queries = list(list(query = intersects, active = T)))
upset(fromList(list),nsets = 6,order.by = "freq",queries = list(list(query = intersects), active = T)))
View(list)
upset(fromList(list),nsets = 6,order.by = "freq")
upset(fromList(list),nsets = 6,order.by = "freq",queries = list(list(query = intersects, params = list("ListA","ListB","ListC","ListD","ListE","ListF"), active = T)))
library(ggplotify) #把别的图转为ggplot2
library(ggimage)
p1<-upset(fromList(list),nsets = 6,order.by = "freq",queries = list(list(query = intersects, params = list("ListA","ListB","ListC","ListD","ListE","ListF"), active = T)))
g1<-as.ggplot(p1)
g2<-ggplot() +
geom_sf(aes(fill = id), data = venn_region(data)) +
geom_sf(aes(color = id), data = venn_setedge(data), show.legend = FALSE) +
geom_sf_text(aes(label = name), data = venn_setlabel(data)) +
geom_sf_label(aes(label = count), data = venn_region(data)) +
theme_void()+
theme(legend.position = 'none')
library(yyplot)
ggvenn(fromList(list))
library(yyplot)
data2<-fromList(list)
View(data2)
knitr::kable(head(data2),caption = "六组基因列表的集合")
library(ggVennDiagram)
ggVennDiagram(list)
library(ggVennDiagram)
ggVennDiagram(list)
library(ggVennDiagram)
ggVennDiagram(list)
library(ggVennDiagram)
ggVennDiagram(list)
suppressMessages(library(yyplot))
ggvenn(fromList(list))
install.packages("venneuler")
blogdown:::preview_site()
View(data2)
View(list)
knitr::kable(head(data2),caption = "六组基因列表的集合")
DT::datatable(data2)
DT::datatable(head(data2))
rm(list = ls())
blogdown:::serve_site()
blogdown::stop_server()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::new_post_addin()
install.packages("rticles")
install.packages("officedown")
blogdown:::new_post_addin()
install.packages("xaringan")
install.packages("xaringanthemer")
blogdown::stop_server()
blogdown:::serve_site()
BiocManager::install("TCGAbiolinks")
install.packages("UCSCXenaShiny")
library(UCSCXenaShiny)
app_run()
install.packages("pacman")
install.packages("pacman")
remove.packages("UCSCXenaShiny")
remove.packages("UCSCXenaTools")
blogdown:::serve_site()
blogdown::stop_server()
blogdown:::serve_site()
blogdown:::new_post_addin()
blogdown::stop_server()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown::stop_server()
blogdown:::serve_site()
blogdown:::new_post_addin()
install.packages("pagedown")
blogdown:::serve_site()
blogdown:::new_post_addin()
library(readr)
demo <- read_csv("content/zh/course/2021-10-05-ggplot2-volcano/demo.csv")
View(demo)
DT::datatable(demo,caption = "Demo数据")
demo <- read_csv("/Users/mac/Documents/GitHub/Rblog/content/zh/course/2021-10-05-ggplot2-volcano/demo.csv")
DT::datatable(demo,caption = "Demo数据")
DT::datatable(head(demo),caption = "Demo数据")
suppressMessages(DT::datatable(demo,caption = "Demo数据"))
DT::datatable(demo,caption = "Demo数据",serverSide = TRUE, processing = TRUE)
demo<-na.omit(demo)
demo<-[!duplicated(demo)]
demo<-[!duplicated(demo$Gene.symbol)]
demo<-demo[!duplicated(demo$Gene.symbol)]
demo<-demo[!duplicated(demo)]
demo<-demo$Gene.symbol[!duplicated(demo$Gene.symbol)]
demo
demo <- read_csv("/Users/mac/Documents/GitHub/Rblog/content/zh/course/2021-10-05-ggplot2-volcano/demo.csv")
data <- demo[!duplicated(demo$Gene.symbol),]
remove(data)
demo<-na.omit(demo)
demo<-demo[!duplicated(demo$Gene.symbol),]
DT::datatable(demo,caption = "Demo数据")
knitr::kables(demo[10,])
demo[10,]
knitr::kables(demo[,10])
knitr::kables(demo[1:10,])
demo[1:10,]
DT::datatable(demo[1:10,],caption = "Demo数据")
DT::datatable(demo[1:50,],caption = "Demo数据")
library(ggplot2)
logFC_t <- with(demo,mean(abs(logFC)) + 2*sd(abs(logFC)))
## 这里使用的是动态阈值，也可以自定义例如logFC=1或2这种静态阈值
logFC_t <- round(logFC_t, 2) # 取前两位小数，这步也可以不运行
# 确定上下调表达基因
demo$change = as.factor(ifelse(demo$adj.P.Val < 0.05 & abs(demo$logFC) > logFC_t,
ifelse(demo$logFC > logFC_t ,'UP','DOWN'),'STABLE'))
logFC_t
table(DEG$change)
table(demo$change)
logFC_t <- with(demo,mean(abs(logFC)) + 2*sd(abs(logFC)))
this_tile <- paste0('Volcano plot for demo',
'\nCutoff for Log2FC is ',round(logFC_t,3),
'\nThe number of up genes is ',nrow(demo[demo$change =='UP',]) ,
'\nThe number of down genes is ',nrow(demo[demo$change =='DOWN',])
)
this_tile
ggplot(demo, aes(x=logFC, y=-log10(adj.P.Val),color=change)) +
geom_point(alpha=0.4, size=2) +
theme_classic() +
xlab("Log2(Fold change)") +
ylab("-Log10(P.adj)") +
theme(plot.title = element_text(size=15,hjust = 0.5)) +
scale_colour_manual(values = c('steelblue','gray','brown')) +
geom_hline(yintercept = -log10(0.05), lty = 4) +
geom_vline(xintercept = c(-logFC_t, logFC_t), lty = 4)+
labs(title = this_tile)
demo$label <- ifelse(demo$adj.P.Val< 0.0005& abs(demo$logFC) >= 2,demo$symbol,"")
demo$label <- ifelse(demo$adj.P.Val< 0.0005& abs(demo$logFC) >= 2,demo$Gene.symbol,"")
demo$label
DT::datatable(demo[1:15,])
ggplot(demo, aes(x=logFC, y=-log10(adj.P.Val),color=Change)) +
geom_point(alpha=0.4, size=2) +
theme_bw(base_size = 12) +
xlab("Log2(Fold change)") +
ylab("-Log10(P.adj)") +
theme(plot.title = element_text(size=15,hjust = 0.5)) +
scale_colour_manual(values = c('steelblue','gray','brown')) +
geom_hline(yintercept = -log10(0.05), lty = 4) +
geom_vline(xintercept = c(-logFC_t, logFC_t), lty = 4)+
labs(title = this_tile)+
geom_label_repel(data = DEG, aes(label = label),
size = 3,box.padding = unit(0.5, "lines"),
point.padding = unit(0.8, "lines"),
segment.color = "black",
show.legend = FALSE, max.overlaps = 10000)
library(ggrepel)
demo$Change = as.factor(ifelse(demo$adj.P.Val < 0.05 & abs(demo$logFC) > logFC_t,
ifelse(demo$logFC > logFC_t ,'UP','DOWN'),'STABLE'))
ggplot(demo, aes(x=logFC, y=-log10(adj.P.Val),color=Change)) +
geom_point(alpha=0.4, size=2) +
theme_bw(base_size = 12) +
xlab("Log2(Fold change)") +
ylab("-Log10(P.adj)") +
theme(plot.title = element_text(size=15,hjust = 0.5)) +
scale_colour_manual(values = c('steelblue','gray','brown')) +
geom_hline(yintercept = -log10(0.05), lty = 4) +
geom_vline(xintercept = c(-logFC_t, logFC_t), lty = 4)+
labs(title = this_tile)+
geom_label_repel(data = DEG, aes(label = label),
size = 3,box.padding = unit(0.5, "lines"),
point.padding = unit(0.8, "lines"),
segment.color = "black",
show.legend = FALSE, max.overlaps = 10000)
ggplot(demo, aes(x=logFC, y=-log10(adj.P.Val),color=Change)) +
geom_point(alpha=0.4, size=2) +
theme_bw(base_size = 12) +
xlab("Log2(Fold change)") +
ylab("-Log10(P.adj)") +
theme(plot.title = element_text(size=15,hjust = 0.5)) +
scale_colour_manual(values = c('steelblue','gray','brown')) +
geom_hline(yintercept = -log10(0.05), lty = 4) +
geom_vline(xintercept = c(-logFC_t, logFC_t), lty = 4)+
labs(title = this_tile)+
geom_label_repel(data = demo, aes(label = label),
size = 3,box.padding = unit(0.5, "lines"),
point.padding = unit(0.8, "lines"),
segment.color = "black",
show.legend = FALSE, max.overlaps = 10000)
ggpubr::ggscatter(demo, x = "logFC", y = "adj.P.Val", color = "Change",size = 0.5, repel = T,
label.select =head(demo$label),
palette = c("#00AFBB", "#E7B800", "#FC4E07") ))
ggpubr::ggscatter(demo,"logFC","adj.P.val",color = "Change")
library(ggpubr)
ggscatter(demo, x = "logFC", y = "P.Value", color = "Change",
palette = c("#00AFBB", "#E7B800", "#FC4E07") )
ggscatter(demo, x = "logFC", y = "adj.P.Val", color = "Change",palette = c("#00AFBB", "#E7B800", "#FC4E07") )
ggscatter(demo, x = "logFC", y = "adj.P.Val", color = "Change",
repel = T,
label.select =head(demo$Gene.symbol),
palette = c("#00AFBB", "#E7B800", "#FC4E07") )
demo$p = -log10(demo$adj.P.Val)
ggscatter(demo, x = "logFC", y = "p", color = "Change",size = 0.5, repel = T,
palette = c("#00AFBB", "#E7B800", "#FC4E07") )
ggscatter(demo, x = "logFC", y = "p", color = "Change",size = 0.5, repel = T,
palette = c('steelblue','gray','brown') )
ggscatter(demo, x = "logFC", y = "p", color = "Change",size = 0.5,
palette = c('steelblue','gray','brown') )
ggscatter(demo, x = "logFC", y = "p", color = "Change",size = 0.5, repel = T,label = "Gene.symbol", repel = T,
label.select =head(demo$Gene.symbol),
palette = c('steelblue','gray','brown') )
ggscatter(demo, x = "logFC", y = "p", color = "Change",size = 0.5, label = "Gene.symbol", repel = T,
label.select =head(demo$Gene.symbol),
palette = c('steelblue','gray','brown') )
ggscatter(demo, x = "logFC", y = "p", color = "Change",size = 0.5, label = "label", repel = T,
label.select =head(demo$label),
palette = c('steelblue','gray','brown') )
ggscatter(demo, x = "logFC", y = "p", color = "Change",size = 0.5,
palette = c('steelblue','gray','brown') )
ggscatter(demo, x = "logFC", y = "p", color = "Change",size = 0.5,
palette = c('steelblue','gray','brown') )+geom_hline(yintercept = -log10(0.05), lty = 4) +
geom_vline(xintercept = c(-logFC_t, logFC_t), lty = 4)
ggscatter(demo, x = "logFC", y = "p", color = "Change",size = 0.5,
palette = c('steelblue','gray','brown'),ggtheme = theme_bw() )+geom_hline(yintercept = -log10(0.05), lty = 4) +
geom_vline(xintercept = c(-logFC_t, logFC_t), lty = 4)
ggscatter(demo, x = "logFC", y = "p", color = "Change",size = 0.5,
palette = c('steelblue','gray','brown'),ggtheme = theme_bw() )+geom_hline(yintercept = -log10(0.05), lty = 4) +
geom_vline(xintercept = c(-logFC_t, logFC_t), lty = 4)+ labs(title = this_tile)
blogdown:::new_post_addin()
rm(list = ls())
blogdown:::new_post_addin()
blogdown:::new_post_addin()
blogdown:::serve_site()
data<-read.csv("/Users/mac/Documents/GitHub/我的硕士论文/data.csv")
data<-as.data.frame(data)
View(data)
data2<-data %>%
mutate(location=factor(location,labels = c("Left","Right")))
data<-data %>%
mutate(location=factor(location,labels = c("Left","Right")))
remove(data2)
View(data)
library(epiDisplay)
summ(data)
summ(data2)[["table"]]
summ(data)[["table"]]
summ(data)
library(psych)
describeBy(data,data$group)
rm(list = ls())
blogdown:::serve_site()
blogdown:::new_post_addin()
blogdown:::serve_site()
blogdown:::new_post_addin()
blogdown:::serve_site()
blogdown:::serve_site()
library(magick)
x<-image_read('/Users/mac/Documents/pic.jpg')
x
ggplotify::as.ggplot(x)
y<-image_fill(x,'white',fuzz = 20)
y
ggplotify::as.ggplot(y)
ggplotify::as.ggplot(image_fill(x,'green',fuzz = 20))
ggplotify::as.ggplot(image_fill(x,'steelblue',fuzz = 20))
ggplotify::as.ggplot(image_fill(x,'brown',fuzz = 20))
ggplotify::as.ggplot(image_fill(x,'blue',fuzz = 20))
ggplotify::as.ggplot(image_fill(x,'black',fuzz = 20))
ggplotify::as.ggplot(image_fill(x,'pink',fuzz = 20))
ggplotify::as.ggplot(image_fill(x,'purple',fuzz = 20))
blogdown:::new_post_addin()
library(clusterProfiler)
knitr::include_graphics("/content/zh/course/2021-10-12-ggfun")
knitr::include_graphics("/content/zh/course/2021-10-12-ggfun/go.jpg")
knitr::include_graphics("/content/zh/course/2021-10-12-ggfun/go.jpg")
knitr::include_graphics("/Users/mac/Documents/GitHub/Rblog/content/zh/course/2021-10-12-ggfun/go.jpg")
blogdown:::preview_site()
ggplot(mpg, aes(displ, cty)) + geom_point()
library(ggfun)
library(ggplot2)
ggplot(mpg, aes(displ, cty)) + geom_point()
ggplot(mpg, aes(displ, cty)) + geom_point()+facet_grid(cols = vars(cyl))+ theme(strip.background=element_roundrect(fill="grey40", color=NA, r=0.15))
ggplot(mpg, aes(displ, cty)) + geom_point()+facet_grid(cols = vars(cyl))+
）
ggplot(mpg, aes(displ, cty)) + geom_point()+facet_grid(cols = vars(cyl))
blogdown:::new_post_addin()
install.packages("ggplotAssist")
d <- data.frame(x=rnorm(10), y=rnorm(10), lab=LETTERS[1:10])
p <- ggplot(d, aes(x, y)) + geom_text(aes(label=lab), size=5)
set_font(p, family="Times", fontface="italic", color='firebrick')
ggplot(mtcars, aes(mpg, disp)) + geom_point()
rm(list = ls())
blogdown:::new_post_addin()
